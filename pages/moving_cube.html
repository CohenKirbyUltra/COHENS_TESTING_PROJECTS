<html>
    <head>
        <title>Moving Cube</title>

        <style>
            #myCanvas {
                width: 100%;
                height: 100%;
            }
        </style>
        <p>Arrow Keys / W A S D</p>
        <canvas id="myCanvas"></canvas>
    </head>

    <body>
        <script>
            const canvas = document.getElementById("myCanvas");
            const ctx = canvas.getContext("2d");
            const FPS = 60;
            
            var myX, myY, speed;

            myX = 0;
            myY = 0;
            speed = 3;
            
            var keyInfo = "";

            ctx.fillStyle = "red";
            ctx.fillRect(myX, myY, 50, 50);
            ctx.stroke();

            function Update() {
                if (!keyInfo.ctrl && !keyInfo.alt && !keyInfo.shift && !keyInfo.meta) {
                    if (keyInfo.key == "ArrowLeft" || keyInfo.key == "KeyA") {myX -= speed}
                    if (keyInfo.key == "ArrowDown" || keyInfo.key == "KeyS") {myX -= speed}
                    if (keyInfo.key == "ArrowUp" || keyInfo.key == "KeyW") {myX -= speed}
                    if (keyInfo.key == "ArrowRight" || keyInfo.key == "KeyD") {myX -= speed}
                }

                ctx.clearRect(0, 0, 2000, 200);
                ctx.fillRect(myX, myY, 50, 50);
                ctx.stroke();
            }

            setInterval(Update(), FPS);

            function KeyInfo(key, code, ctrl, alt, shift, meta) {
                this.key = key;
                this.code = code;
                this.ctrl = ctrl;
                this.alt = alt;
                this.shift = shift;
                this.meta = meta;
            }

            document.addEventListener("keydown", (event) => {
                keyInfo = new KeyInfo(
                    event.key, 
                    event.keyCode, 
                    event.ctrlKey, 
                    event.altKey, 
                    event.shiftKey, 
                    event.metaKey
                );
            });

            document.addEventListener("keyup", (event) => {
                keyInfo = new KeyInfo(
                    event.key, 
                    event.keyCode, 
                    event.ctrlKey, 
                    event.altKey, 
                    event.shiftKey, 
                    event.metaKey
                );
            });
        </script>
    </body>
</html>