<html>
    <head>
        <title>Moving Cube</title>

        <style>
            #myCanvas {
                width: 100%;
                height: 100%;
            }
        </style>
        <p>Arrow Keys / W A S D</p>
        <canvas id="myCanvas"></canvas>
    </head>

    <body>
        <script>
            const canvas = document.getElementById("myCanvas");
            const ctx = canvas.getContext("2d");
            
            var myX, myY, speed;

            myX = 0;
            myY = 0;
            speed = 5;

            ctx.fillStyle = "red";
            ctx.fillRect(myX, myY, 50, 50);
            ctx.stroke();

            function onUpdate() {
                console.log("Updated");
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillRect(myX, myY, 50, 50);
                ctx.stroke();
            }

            document.addEventListener("keydown", onKeyPressed);

            function onKeyPressed() {

                console.log("hi");

                let keyboard = new KeyboardEvent("keydown");
                switch (keyboard.key) {
                    case "ArrowLeft":
                        onUpdate();
                        myX -= speed;
                    break;

                    case "ArrowDown":
                        onUpdate();
                        myY -= speed;   
                    break;

                    case "ArrowUp":
                        onUpdate();
                        myY += speed;   
                    break;

                    case "ArrowRight":
                        onUpdate();
                        myX += speed;   
                    break;
                    
                
                    default:
                        break;
                }
            } 
        </script>
    </body>
</html>